---
import Base from '../layouts/Base.astro';
import { SITE_TITLE, SITE_DESCRIPTION } from '../consts';
import Hero from '../components/Hero.astro';
import LatestPosts from '../components/LatestPosts.astro';
import { getCollection } from 'astro:content';

const posts = (await getCollection('blog')).sort(
	(a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf(),
);

const latestPosts = posts.slice(0, 3);

---
<Base head={{ title:SITE_TITLE, description:SITE_DESCRIPTION}}>
	<Hero></Hero>
	<LatestPosts posts={latestPosts} />
</Base>
